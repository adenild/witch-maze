<!DOCTYPE html>
<html lang='en'>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel='stylesheet' href='game/css/game.css'>
    <link rel='stylesheet' href='game/css/game-over.css'>
    <meta charset='UTF-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.9/jquery.csv.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mersenne-twister@1/src/mersenne-twister.min.js"></script>
    <script src='support/utils.js'></script>
    <script src='support/modals.js'></script>
    <script src='game/js/player.js'></script>
    <script src='game/js/AnuQRNG.js'></script>
    <script src='game/js/maze.js'></script>
    <script src='game.js'></script>
    <script src='game/js/reward.js'></script>
    <title>Witch Maze</title>
</head>

<body onload='onLoad();' style="overflow: hidden" class="noselect">
<header>üéÉ Witch Maze üéÉ</header>
<canvas id='mainForm'></canvas>
<div class="instructions" style="margin: auto">
    <a id="open" onclick="openHTP()" style="cursor: pointer">Como jogar / How to Play</a>
</div>
<div class='wm-settings'>
    <table style="display: inline-block">
        <tr><th>Moves</th></tr>
        <tr><td class='wm-round-box'><span class="wm-round-box-text" id='movesLeft'>200</span></td></tr>
    </table>
    <div class="wm-table-center">
        <table style="align-self: center">
            <tr><th>Level</th></tr>
            <tr><td class='wm-round-box'><span class="wm-round-box-text" id='level'>1</span></td></tr>
        </table>
    </div>
    <table style="display: inline-block">
        <tr><th>Score</th></tr>
        <tr><td class='wm-round-box'><span class="wm-round-box-text" id='rewardsScore'>0</span></td></tr>
    </table>
    <table style="display: inline-block">
        <tr><th>Magic Score</th></tr>
        <tr><td class='wm-round-box'><span class="wm-round-box-text" id='magicScore'>0</span></td></tr>
    </table>
</div>
<div class="modal" tabindex="-1" id="dataPrivacy">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="align-self: center">üéÉ Data Privacy üéÉ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table>
                    <tr>
                        <th>
                            Pol√≠tica de privacidade e reten√ß√£o de dados pessoais<br>
                        </th>
                        <th></th>
                        <th>
                            Privacy policy and personal data retention<br>
                        </th>
                    </tr>
                    <tr>
                        <td>
                            Ol√° Aventureiro(a)!<br>
                        </td>
                        <td></td>
                        <td>
                            Hello Adventurer!<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Primeiramente muito obrigado pelo interesse em saber mais sobre o Witch Maze.<br>
                            Pode contar com a gente para tirar qualquer d√∫vida que tiver sobre o uso dos dados pelo jogo.<br>
                        </td>
                        <td></td>
                        <td>
                            First of all thank you for your interest in learning more about Witch Maze.<br>
                            You can count on us to answer any questions you have about the use of the data by the game.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Em resumo:</strong><br>
                            N√£o coletamos dados pessoais.<br>
                            N√£o √© poss√≠vel usar o jogo sem aceitar este termo de privacidade.<br>
                            Os dados gerados por voc√™ ser√£o utilizados de forma an√¥nima em uma pesquisa cient√≠fica.<br>
                        </td>
                        <td></td>
                        <td>
                            <strong>In short:</strong><br>
                            We do not collect personal data.<br>
                            It is not possible to use the game without accepting this privacy term.<br>
                            The data generated by you will be used anonymously in scientific research.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Aqui est√° a nossa Pol√≠tica de Privacidade e Reten√ß√£o de Dados:</strong><br>
                        </td>
                        <td></td>
                        <td>
                            <strong>Here is our Privacy and Data Retention Policy:</strong><br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Uso de dados pessoais</strong><br>
                            N√£o s√£o coletados dados pessoais.<br>
                            √â gerado um identificador √∫nico para agrupar as partidas de um mesmo jogador.<br>
                        </td>
                        <td></td>
                        <td>
                            <strong>Use of personal data</strong><br>
                            No personal data is collected.<br>
                            A unique identifier is generated to group the matches of the same player.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Dados do dispositivo</strong><br>
                            N√£o coletamos dados sobre o dispositivo que voc√™ usa para executar o jogo.<br>
                        </td>
                        <td></td>
                        <td>
                            <strong>Device data</strong><br>
                            We do not collect data about the device you use to run the game.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Dados das Partidas</strong><br>
                            Coletamos informa√ß√µes sobre o movimento do personagem na tela, recompensas dispon√≠veis para coleta, recompensas coletadas, os n√≠veis e o score de cada partida.<br>
                            Os dados das partidas ser√£o utilizados de forma an√¥nima e agregada para permitir as an√°lises estat√≠sticas que ser√£o usadas para analisar o objetivo do estudo.<br><br>
                        </td>
                        <td></td>
                        <td>
                            <strong>Match Data</strong><br>
                            We collect information about the character's movement on the screen, rewards available for collection, rewards collected, the levels and the score of each match.<br>
                            The match data will be used in an anonymous and aggregated form to allow statistical analyzes that will be used to analyze the objective of the study.<br><br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Direito de retifica√ß√£o</strong><br>
                            Como n√£o s√£o coletados dados pessoais n√£o √© poss√≠vel retific√°-los.<br>
                            Assim como n√£o √© poss√≠vel apagar as partidas de usu√°rios, pois n√£o h√° informa√ß√£o que permita o v√≠nculo das partidas a uma pessoa.<br>
                        </td>
                        <td></td>
                        <td>
                            <strong>Right of rectification</strong><br>
                            As personal data are not collected, it is not possible to rectify them.<br>
                            Just as it is not possible to delete user matches, as there is no information that allows matches to be linked to a person.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Direito ao esquecimento</strong><br>
                            N√£o s√£o armazenados dados pessoais.<br>
                            Os dados das partidas ser√£o armazenados pelo prazo necess√°rio ao estudo cient√≠fico, sendo depois descartados.<br>
                        </td>
                        <td></td>
                        <td>
                            <strong>Right to be forgotten</strong><br>
                            No personal data is stored.<br>
                            The match data will be stored for as long as necessary for the scientific study, after which they will be discarded.<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Quer saber mais?</strong><br>
                            <a disabled>Clique aqui!</a>
                        </td>
                        <td></td>
                        <td>
                            <strong>Want to know more?</strong><br>
                            <a disabled>Click Here!</a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <span class="modal-body">Ao jogar, eu aceito os termos de Privacidade<br>
                    By playing I accept the Privacy Agreement</span>
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Concordo / Agree</button>
            </div>
        </div>
    </div>
</div>
<div class="modal" tabindex="-1" id="howToPlay">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">üéÉ How To Play üéÉ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="display: flex;">
                <div style="flex: 1">
                    <p style="margin: 1rem 0; border-right: solid 1px #cbcbcb;">
                        O jogo tem por objetivo dar poderes m√°gicos a bruxinha Morgana. Para tal ela tem de recolher todos os objetos qua aparecem no labirinto. As paredes do labirinto n√£o se movem e a sua falta de poderes m√°gicos obriga-a a contornar as paredes para os recolher.
                        <br>
                        Morgana move-se a cada toque no ecr√£. O n√∫mero de objetos m√°gicos dispon√≠veis, aumentam a cada n√≠vel do jogo. Quando recolheres todos os objetos passas ao n√≠vel seguinte onde mais objetos m√°gicos aparecem. Morgana s√≥ consegue mover-se 240 vezes, no total dos 7 n√≠veis de jogo.
                        <br>
                        Diverte-te a ajudar Morgana a tornar-se numa bruxinha Magica e Poderosa!!!!
                    </p>
                </div>
                <div style="flex: 1; margin-left: 5px">
                    <p style="margin: 1rem 0">
                        The game aims to give magical powers to the little witch Morgana. To do this, she has to collect all the objects that appear in the maze. The walls of the labyrinth do not move and its lack of magical powers forces it to go around the walls to collect them.
                        <br>
                        Morgana moves with each touch on the screen. The number of magic objects available, increases with each level of the game. When you collect all the objects, you go to the next level where more magic objects appear. Morgana can only move 240 times, in a total of 7 game levels.
                        <br>
                        Have fun helping Morgana to become a magical and powerful little witch!!!!
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Fechar / Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal" tabindex="-1" id="gameOver">
    <div class="modal-dialog modal-lg">
        <div class="modal-content game-over">
            <span class="game-over-title">Morgana est√° mais poderosa...</span>
            <div class="game-over-body">
                <div class="morgana-gif">
                    <img src="assets/src/sprites/mio_static.gif" alt="Static Witch" width="98">
                </div>
                <div class="morgana-text">
                    <p>
                        Voc√™ ajudou Morgana a juntar muitos itens m√°gicos, mas sua jornada no labirinto ainda n√£o acabou.
                    </p>
                </div>
            </div>
            <div class="game-over-body-bottom">
                <div class="player-info-container">
                    <span class="player-info">Voc√™ coletou <span id="finalScore"></span> itens m√°gicos em <span id="finalLevel"></span> fases. O poder m√°gico acumulado foi de <span id="finalMagicScore"></span>.</span>
                    <img src="assets/src/sprites/treasure.png" alt="treasures" style="margin: auto">
                </div>

                <div class="game-over-play-again">
                    <div class="play-again">Deseja jogar novamente?</div>
                    <div class="buttons" style="margin-top: 20px">
                        <a class="play-again-button" data-bs-dismiss="modal" onclick="playNext()">Sim</a>
                        <a class="play-again-button" data-bs-dismiss="modal">N√£o</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</body>
</html>
